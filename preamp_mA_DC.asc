Version 4.1
SHEET 1 1100 1020
WIRE -48 -144 -48 -176
WIRE -48 -80 -48 -144
WIRE 688 -80 640 -80
WIRE 784 -80 752 -80
WIRE 128 -48 128 -128
WIRE 640 16 640 -80
WIRE 672 16 640 16
WIRE 784 16 784 -80
WIRE 784 16 752 16
WIRE 784 80 784 16
WIRE 128 128 128 32
WIRE 128 128 -64 128
WIRE 528 128 128 128
WIRE 640 128 640 16
WIRE 640 128 608 128
WIRE 704 144 704 112
WIRE -64 160 -64 128
WIRE 128 160 128 128
WIRE 640 160 640 128
WIRE 672 160 640 160
WIRE 784 176 736 176
WIRE 864 176 784 176
WIRE 880 176 864 176
WIRE 672 192 640 192
WIRE 640 256 640 192
WIRE 640 256 608 256
WIRE 704 256 704 208
WIRE 128 336 128 240
WIRE 256 336 128 336
WIRE 528 336 528 256
WIRE 528 336 352 336
WIRE 640 352 640 256
WIRE 656 352 640 352
WIRE 784 352 784 176
WIRE 784 352 736 352
WIRE 128 368 128 336
WIRE 48 384 16 384
WIRE 80 384 48 384
WIRE 272 416 272 384
WIRE 272 432 272 416
WIRE 640 448 640 352
WIRE 672 448 640 448
WIRE 784 448 784 352
WIRE 784 448 736 448
WIRE -384 480 -384 448
WIRE -224 480 -224 448
WIRE -64 512 -64 240
WIRE 128 512 128 464
WIRE 128 512 -64 512
WIRE 288 512 128 512
WIRE 528 512 528 336
WIRE 528 512 384 512
WIRE -384 528 -384 480
WIRE -224 528 -224 480
WIRE 368 592 368 560
WIRE 128 608 128 512
WIRE 368 624 368 592
WIRE -384 704 -384 608
WIRE -224 704 -224 608
FLAG 704 256 vdd3
FLAG 128 -128 vdd3
FLAG 128 608 0
FLAG 704 112 0
FLAG 784 80 0
FLAG 864 176 vout
FLAG -48 0 0
FLAG -48 -144 vdd3
FLAG -384 784 0
FLAG -384 480 vmos
FLAG 48 384 vmos
FLAG 272 416 vmos
FLAG -224 784 0
FLAG -224 480 vmosn
FLAG 368 592 vmosn
SYMBOL res 624 240 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value {Rin}
SYMBOL res 624 112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value {Rin}
SYMBOL res 768 0 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value {Rf}
SYMBOL res 752 336 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value {Rf}
SYMBOL res 112 144 R0
SYMATTR InstName R5
SYMATTR Value {Rshunt}
SYMBOL cap 736 432 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value {C}
SYMBOL cap 752 -96 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value {C}
SYMBOL OpAmps\\AD8628 704 240 M180
SYMATTR InstName U1
SYMBOL voltage -48 -96 R0
SYMATTR InstName Vdd1
SYMATTR Value 3.3
SYMBOL nmos 80 464 M180
WINDOW 3 56 60 Invisible 2
SYMATTR Value ISCH42N04LM7_L0
SYMATTR InstName M1
SYMATTR Prefix x
SYMBOL res -80 144 R0
SYMATTR InstName R6
SYMATTR Value {Rshunt2}
SYMBOL voltage -384 688 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 3.3
SYMBOL res -400 512 R0
SYMATTR InstName R7
SYMATTR Value 1k
SYMBOL current 128 -48 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName I1
SYMATTR Value {Iload}
SYMBOL nmos 352 384 M270
WINDOW 3 56 72 Invisible 2
SYMATTR Value ISCH42N04LM7_L0
SYMATTR InstName M2
SYMATTR Prefix x
SYMBOL voltage -224 688 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 0
SYMBOL res -240 512 R0
SYMATTR InstName R8
SYMATTR Value 1k
SYMBOL nmos 288 560 R270
WINDOW 3 56 60 Invisible 2
SYMATTR Value ISCH42N04LM7_L0
SYMATTR InstName M4
SYMATTR Prefix x
TEXT -376 -136 Left 2 ;.dc I1 500m 1
TEXT -560 16 Left 2 !.include OptiMOS7_40V_LTSpice.lib
TEXT -416 152 Left 2 !.param C = 47n\n.param Iload=1m\n.param scale = 10\n.param Rin = 1k*scale\n.param Rf 3.6k*scale\n.param tol = 0.001\n.param tolcap = 0.05\n.param Rshunt = 10m\n.param Rshunt2 = 10
TEXT -376 -160 Left 2 !.op
