Version 4.1
SHEET 1 3936 740
WIRE 816 -240 816 -272
WIRE 816 -176 816 -240
WIRE 992 -176 992 -224
WIRE 1504 -160 1456 -160
WIRE 1600 -160 1568 -160
WIRE 1840 -128 1840 -160
WIRE 2384 -128 2336 -128
WIRE 2480 -128 2448 -128
WIRE 2016 -80 2016 -128
WIRE 1456 -64 1456 -160
WIRE 1488 -64 1456 -64
WIRE 1600 -64 1600 -160
WIRE 1600 -64 1568 -64
WIRE 1840 -64 1840 -128
WIRE 2336 -32 2336 -128
WIRE 2368 -32 2336 -32
WIRE 2480 -32 2480 -128
WIRE 2480 -32 2448 -32
WIRE 992 -16 992 -96
WIRE 992 -16 736 -16
WIRE 1312 -16 992 -16
WIRE 1600 0 1600 -64
WIRE 736 16 736 -16
WIRE 992 16 992 -16
WIRE 2480 32 2480 -32
WIRE 1312 48 1312 -16
WIRE 1344 48 1312 48
WIRE 1456 48 1456 -64
WIRE 1456 48 1424 48
WIRE 1520 64 1520 32
WIRE 1456 80 1456 48
WIRE 1488 80 1456 80
WIRE 2016 80 2016 0
WIRE 2224 80 2016 80
WIRE 2336 80 2336 -32
WIRE 2336 80 2304 80
WIRE 1600 96 1552 96
WIRE 1696 96 1600 96
WIRE 1712 96 1696 96
WIRE 2400 96 2400 64
WIRE 1488 112 1456 112
WIRE 2016 112 2016 80
WIRE 2336 112 2336 80
WIRE 2368 112 2336 112
WIRE 992 128 992 96
WIRE 1136 128 992 128
WIRE 1312 128 1232 128
WIRE 2480 128 2432 128
WIRE 2528 128 2480 128
WIRE 2592 128 2528 128
WIRE 992 144 992 128
WIRE 2368 144 2336 144
WIRE 912 160 896 160
WIRE 944 160 912 160
WIRE 1520 176 1520 128
WIRE 1312 192 1312 128
WIRE 1344 192 1312 192
WIRE 1456 192 1456 112
WIRE 1456 192 1424 192
WIRE 1152 208 1152 176
WIRE 2400 208 2400 160
WIRE 1152 224 1152 208
WIRE 2224 224 2192 224
WIRE 2336 224 2336 144
WIRE 2336 224 2304 224
WIRE 736 272 736 96
WIRE 992 272 992 240
WIRE 992 272 736 272
WIRE 1152 272 992 272
WIRE 1312 272 1312 192
WIRE 1312 272 1248 272
WIRE 1456 272 1456 192
WIRE 1472 272 1456 272
WIRE 1600 272 1600 96
WIRE 1600 272 1552 272
WIRE 992 304 992 272
WIRE 2336 304 2336 224
WIRE 2352 304 2336 304
WIRE 2480 304 2480 128
WIRE 2480 304 2432 304
WIRE 1232 352 1232 320
WIRE 1232 368 1232 352
WIRE 1456 368 1456 272
WIRE 1488 368 1456 368
WIRE 1600 368 1600 272
WIRE 1600 368 1552 368
WIRE 2016 368 2016 192
WIRE 2192 368 2192 224
WIRE 2192 368 2016 368
WIRE 784 384 784 368
WIRE 896 384 896 368
WIRE 2016 400 2016 368
WIRE 2336 400 2336 304
WIRE 2368 400 2336 400
WIRE 2480 400 2480 304
WIRE 2480 400 2432 400
WIRE 784 496 784 464
WIRE 896 496 896 464
FLAG 816 -96 0
FLAG 816 -240 vdd2
FLAG 1520 176 vdd2
FLAG 992 -224 vdd2
FLAG 1520 32 0
FLAG 1600 0 0
FLAG 1696 96 vout2
FLAG 992 304 0
FLAG 784 576 0
FLAG 1840 16 0
FLAG 1840 -128 vdd1
FLAG 2400 208 vdd1
FLAG 2016 -128 vdd1
FLAG 2400 64 0
FLAG 2480 32 0
FLAG 2528 128 vout1
FLAG 2016 400 0
FLAG 896 576 0
FLAG 784 368 vmos
FLAG 896 368 vmosn
FLAG 912 160 vmos
FLAG 1152 208 vmos
FLAG 1232 352 vmosn
SYMBOL voltage 816 -192 R0
SYMATTR InstName Vdd2
SYMATTR Value 3.3
SYMBOL res 1440 176 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value {mc(Rin,tol)}
SYMBOL res 1440 32 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value {mc(Rin,tol)}
SYMBOL res 1584 -80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value {mc(Rf,tol)}
SYMBOL res 1568 256 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value {mc(Rf,tol)}
SYMBOL res 976 0 R0
SYMATTR InstName R10
SYMATTR Value {mc(Rshunt2,tol)}
SYMBOL current 992 -176 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName I2
SYMATTR Value {Iload2}
SYMBOL cap 1552 352 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value {mc(C,tolcap)}
SYMBOL cap 1568 -176 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C4
SYMATTR Value {mc(C,tolcap)}
SYMBOL OpAmps\\AD8628 1520 160 M180
SYMATTR InstName U3
SYMBOL nmos 944 240 M180
WINDOW 3 56 72 Invisible 2
SYMATTR InstName M1
SYMATTR Value ISCH42N04LM7_L0
SYMATTR Prefix x
SYMBOL voltage 784 480 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 3.3
SYMBOL res 768 368 R0
SYMATTR InstName R1
SYMATTR Value 1k
SYMBOL voltage 1840 -80 R0
SYMATTR InstName Vdd1
SYMATTR Value 3.3
SYMBOL res 2320 208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value {mc(Rin,tol)}
SYMBOL res 2320 64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value {mc(Rin,tol)}
SYMBOL res 2464 -48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value {mc(Rf,tol)}
SYMBOL res 2448 288 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value {mc(Rf,tol)}
SYMBOL res 2000 96 R0
SYMATTR InstName R11
SYMATTR Value {mc(Rshunt,tol)}
SYMBOL current 2016 -80 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName I1
SYMATTR Value {Iload1}
SYMBOL cap 2432 384 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value {mc(C,tolcap)}
SYMBOL cap 2448 -144 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value {mc(C,tolcap)}
SYMBOL OpAmps\\AD8628 2400 192 M180
SYMATTR InstName U1
SYMBOL voltage 896 480 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 0
SYMBOL res 880 368 R0
SYMATTR InstName R12
SYMATTR Value 1k
SYMBOL res 720 0 R0
SYMATTR InstName R13
SYMATTR Value {mc(Rshunt,tol)}
SYMBOL nmos 1232 176 M270
WINDOW 3 56 72 Invisible 2
SYMATTR InstName M2
SYMATTR Value ISCH42N04LM7_L0
SYMATTR Prefix x
SYMBOL nmos 1152 320 R270
WINDOW 3 56 72 Invisible 2
SYMATTR InstName M3
SYMATTR Value ISCH42N04LM7_L0
SYMATTR Prefix x
TEXT 1488 -576 Left 2 !.param C = 47n\n.param Iload1 = 1u\n.param Iload2 = 1m\n.param scale = 10\n.param Rin = 1k*scale\n.param Rf 3.6k*scale\n.param tol = 0.001\n.param tolcap = 0.05\n.param Rshunt = 10\n.param Rshunt2 = 10m\n.step param run 1 300 1
TEXT 1488 -672 Left 2 ;.dc I3 1m 1
TEXT 1488 -640 Left 2 ;.tran 3m
TEXT 1488 -616 Left 2 !.op
TEXT 848 -392 Left 2 !.include OptiMOS7_40V_LTSpice.lib
