Version 4.1
SHEET 1 1584 852
WIRE 160 -192 160 -224
WIRE 160 -128 160 -192
WIRE 896 -128 848 -128
WIRE 992 -128 960 -128
WIRE 336 -96 336 -176
WIRE 848 -32 848 -128
WIRE 880 -32 848 -32
WIRE 992 -32 992 -128
WIRE 992 -32 960 -32
WIRE 992 32 992 -32
WIRE 848 48 848 -32
WIRE 336 80 336 -16
WIRE 336 80 144 80
WIRE 480 80 336 80
WIRE 736 80 480 80
WIRE 848 80 848 48
WIRE 848 80 816 80
WIRE 912 96 912 64
WIRE 144 112 144 80
WIRE 336 112 336 80
WIRE 848 112 848 80
WIRE 880 112 848 112
WIRE 992 128 944 128
WIRE 1072 128 992 128
WIRE 1088 128 1072 128
WIRE 880 144 848 144
WIRE 848 176 848 144
WIRE 848 208 848 176
WIRE 848 208 816 208
WIRE 912 208 912 160
WIRE 336 288 336 192
WIRE 400 288 336 288
WIRE 464 288 400 288
WIRE 736 288 736 208
WIRE 736 288 560 288
WIRE 848 304 848 208
WIRE 864 304 848 304
WIRE 992 304 992 128
WIRE 992 304 944 304
WIRE 336 320 336 288
WIRE -272 336 -272 304
WIRE -48 336 -48 304
WIRE 256 336 224 336
WIRE 288 336 256 336
WIRE 480 368 480 336
WIRE -272 384 -272 336
WIRE -48 384 -48 336
WIRE 480 384 480 368
WIRE 848 400 848 304
WIRE 880 400 848 400
WIRE 992 400 992 304
WIRE 992 400 944 400
WIRE 144 464 144 192
WIRE 336 464 336 416
WIRE 336 464 144 464
WIRE 496 464 336 464
WIRE 736 464 736 288
WIRE 736 464 592 464
WIRE 576 544 576 512
WIRE -272 560 -272 464
WIRE -48 560 -48 464
WIRE 336 560 336 464
WIRE 576 576 576 544
FLAG 912 208 vdd3
FLAG 336 -176 vdd3
FLAG 336 560 0
FLAG 912 64 0
FLAG 992 32 0
FLAG 1072 128 vout
FLAG 160 -48 0
FLAG 160 -192 vdd3
FLAG 256 336 vmos
FLAG 480 368 vmos
FLAG 576 544 vmosn
FLAG -272 640 0
FLAG -272 336 vmos
FLAG -48 640 0
FLAG -48 336 vmosn
FLAG 480 80 vshunt+
FLAG 400 288 vshunt-
FLAG 848 48 v+
FLAG 848 176 v-
DATAFLAG 336 240 ""
DATAFLAG -272 496 ""
DATAFLAG 224 336 ""
SYMBOL res 832 192 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value {Rin}
SYMBOL res 832 64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value {Rin}
SYMBOL res 976 -48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value {Rf}
SYMBOL res 960 288 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value {Rf}
SYMBOL res 320 96 R0
SYMATTR InstName R5
SYMATTR Value {Rshunt}
SYMBOL cap 944 384 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value {C}
SYMBOL cap 960 -144 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value {C}
SYMBOL OpAmps\\AD8628 912 192 M180
SYMATTR InstName U1
SYMBOL voltage 160 -144 R0
SYMATTR InstName Vdd1
SYMATTR Value 3.3
SYMBOL nmos 288 416 M180
WINDOW 3 56 60 Invisible 2
SYMATTR Value ISCH42N04LM7_L0
SYMATTR InstName M1
SYMATTR Prefix x
SYMBOL res 128 96 R0
SYMATTR InstName R6
SYMATTR Value {Rshunt2}
SYMBOL current 336 -96 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName I1
SYMATTR Value {Iload}
SYMBOL nmos 560 336 M270
WINDOW 3 56 72 Invisible 2
SYMATTR Value ISCH42N04LM7_L0
SYMATTR InstName M2
SYMATTR Prefix x
SYMBOL nmos 496 512 R270
WINDOW 3 56 60 Invisible 2
SYMATTR Value ISCH42N04LM7_L0
SYMATTR InstName M3
SYMATTR Prefix x
SYMBOL voltage -272 544 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 3.3
SYMBOL res -288 368 R0
SYMATTR InstName R7
SYMATTR Value 100 noiseless
SYMBOL voltage -48 544 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 0
SYMBOL res -64 368 R0
SYMATTR InstName R8
SYMATTR Value 100 noiseless
TEXT -312 -184 Left 2 !.op
TEXT 488 -256 Left 5 ;Low side
TEXT -344 -72 Left 2 !.include OptiMOS7_40V_LTSpice.lib
TEXT -312 -216 Left 2 ;.noise v(vout) I1 dec 100 1 20meg
TEXT -256 24 Left 2 !.param C = 47n\n.param Iload = 1\n.param scale = 10\n.param Rin = 1k*scale\n.param Rf 3.6k*scale\n.param tol = 0.001\n.param tolcap = 0.05\n.param Rshunt = 10m\n.param Rshunt2 = 10
